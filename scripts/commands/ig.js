/** Äá»•i Credit ? Bá»n t Ä‘Ã£ khÃ´ng mÃ£ hÃ³a cho mÃ  edit rá»“i thÃ¬ tÃ´n trá»ng nhau tÃ½ Ä‘i Â¯\_(ãƒ„)_/Â¯ **/
module.exports.config = {
  name: `${global.config.PREFIX}`,
  version: "1.0.0", 
  permission: 0,
  credits: "King_Shourov",
  description: "Send random caption with styled image",
  prefix: true,
  category: "user",
  usages: "/",
  cooldowns: 5, 
  dependencies: {}
};

module.exports.run = async ({ api, event }) => {
  const axios = global.nodemodule["axios"];
  const request = global.nodemodule["request"];
  const fs = global.nodemodule["fs-extra"];

  const captions = [
    "â à¦†à¦®à¦¿ à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¤à¦¾à¦®â€¦ à¦•à¦¿à¦¨à§à¦¤à§ à¦¤à§à¦®à¦¿ à¦¤à§‹ à¦¬à§à¦à§‹à¦¨à¦¿ âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦¹à¦ à¦¾à§Ž à¦•à¦°à§‡ à¦¦à§‚à¦°à§‡ à¦¸à¦°à§‡ à¦¯à¦¾à¦¬à§‹ à¦à¦•à¦¦à¦¿à¦¨, à¦¤à¦–à¦¨ à¦–à§à¦à¦œà§‡ à¦ªà¦¾à¦¬à§‡â€¦ âž",
    "â à¦­à¦¾à¦™à¦¾ à¦®à¦¨ à¦†à¦° à¦­à¦¾à¦™à¦¾ à¦¬à¦¿à¦¶à§à¦¬à¦¾à¦¸ à¦•à§‹à¦¨à§‹à¦¦à¦¿à¦¨ à¦œà§‹à§œà¦¾ à¦²à¦¾à¦—à§‡ à¦¨à¦¾â€¦ âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦ªà§à¦°à¦¯à¦¼à§‹à¦œà¦¨ à¦›à¦¾à¦¡à¦¼à¦¾ à¦•à§‡à¦‰ à¦–à§‹à¦à¦œ à¦¨à§‡à§Ÿ à¦¨à¦¾â€¦ à¦šà§‡à¦¨à¦¾ à¦®à¦¾à¦¨à§à¦· à¦—à§à¦²à§‹ à¦…à¦šà§‡à¦¨à¦¾ à¦¹à¦¯à¦¼à§‡ à¦¯à¦¾à¦¯à¦¼ à¦°à§‹à¦œ âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦¤à§à¦®à¦¿ à¦—à¦²à§à¦ª à¦¹à¦¯à¦¼à§‡à¦“ à¦—à¦²à§à¦ª à¦¨à¦¾, à¦¤à§à¦®à¦¿ à¦¸à¦¤à§à¦¯à¦¿ à¦¹à¦¯à¦¼à§‡à¦“ à¦•à¦²à§à¦ªà¦¨à¦¾ âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦¸à§‡ à¦¬à¦²à§‡à¦›à¦¿à¦²à§‹ à¦•à§‹à¦¨à§‹à¦¦à¦¿à¦¨ à¦¸à§‡à¦°à§‡ à¦¯à¦¾à¦¬à§‡ à¦¨à¦¾â€¦ à¦¤à¦¾à¦¹à¦²à§‡ à¦šà¦²à§‡ à¦—à§‡à¦›à§‡ à¦•à§‡à¦¨? âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦ªà¦°à¦¿à¦¸à§à¦¥à¦¿à¦¤à¦¿à¦° à¦•à¦¾à¦°à¦£à§‡ à¦šà§à¦ª à¦¹à§Ÿà§‡ à¦—à§‡à¦›à¦¿â€¦ à¦¨à¦¾à¦¹à¦²à§‡ à¦¹à¦¾à¦¸à¦¿ à¦–à§à¦¶à¦¿ à¦¤à§‹ à¦†à¦®à¦¿à¦“ à¦•à¦® à¦›à¦¿à¦²à¦¾à¦® à¦¨à¦¾! âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦•à§‹à¦¨à§‹ à¦à¦• à¦®à¦¾à§Ÿà¦¾à¦¬à¦¤à§€à¦° à¦œà¦¨à§à¦¯ à¦†à¦œà¦“ à¦­à¦¿à¦¤à¦°à¦Ÿà¦¾ à¦ªà§à§œà§‡â€¦ ðŸ¤ðŸª½ âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦œà§€à¦¬à¦¨à¦Ÿà¦¾ à¦¤à¦–à¦¨à¦‡ à¦¸à§à¦¨à§à¦¦à¦° à¦›à¦¿à¦², à¦¯à¦–à¦¨ à¦­à¦¾à¦¬à¦¤à¦¾à¦® à¦šà¦¾à¦à¦¦à¦Ÿà¦¾ à¦†à¦®à¦¾à¦°... âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â Life Is Beautiful If You Donâ€™t Fall In Love âž\nâ™¡ï¸Ž _à¦œà§€à¦¬à¦¨ à¦¸à§à¦¨à§à¦¦à¦° à¦¯à¦¦à¦¿ à¦•à¦¾à¦°à§‹ à¦®à¦¾à§Ÿà¦¾à§Ÿ à¦¨à¦¾ à¦ªà§œà§‹ ðŸ™‚ðŸ’”à¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "ðŸŒ¸ à¦•à§‹à¦¨à§‹ à¦à¦• à¦®à¦¾à§Ÿà¦¾à¦¬à¦¤à§€à¦° à¦œà¦¨à§à¦¯ à¦†à¦œà¦“ à¦­à¦¿à¦¤à¦°à¦Ÿà¦¾ à¦ªà§à§œà§‡ ï¸µðŸ˜ŒðŸ¤ðŸª½à¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦¸à§Œà¦¨à§à¦¦à¦°à§à¦¯ à¦¶à§à¦§à§ à¦šà§‹à¦–à¦•à§‡ à¦†à¦•à¦°à§à¦·à¦£ à¦•à¦°à§‡, à¦•à¦¿à¦¨à§à¦¤à§ à¦¬à§à¦¯à¦•à§à¦¤à¦¿à¦¤à§à¦¬ à¦¹à§ƒà¦¦à¦¯à¦¼ à¦•à§‡à¦¡à¦¼à§‡ à¦¨à§‡à¦¯à¦¼! âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦®à¦¾à¦¨à§à¦·à§‡à¦° à¦®à¦¸à§à¦¤à¦¿à¦·à§à¦•à¦‡ à¦¹à¦²à§‹ à¦à¦•à¦Ÿà¦¾ à¦•à¦¬à¦°à¦¸à§à¦¥à¦¾à¦¨, à¦¯à§‡à¦–à¦¾à¦¨à§‡ à¦¹à¦¾à¦œà¦¾à¦°à§‹ à¦¸à§à¦¬à¦ªà§à¦¨à§‡à¦° à¦®à§ƒà¦¤à§à¦¯à§ à¦˜à¦Ÿà§‡.. ðŸ’” âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦¹à¦ à¦¾à§Ž à¦à¦•à¦¦à¦¿à¦¨ à¦¦à§‡à¦–à¦¾ à¦¹à¦¬à§‡ Â°à¦•à¦¿à¦¨à§à¦¤à§Â° à¦•à¦¥à¦¾ à¦¹à¦¬à§‡ à¦¨à¦¾ ðŸ–¤ âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ",
    "â à¦¯à¦¾à¦•à§‡ à¦¤à§à¦®à¦¿ à¦¯à¦¤ à¦¬à§‡à¦¶à¦¿ à¦šà¦¾à¦‡à¦¬à§‡, à¦¸à§‡ à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦¤à¦¤ à¦¬à§‡à¦¶à¦¿ à¦‡à¦—à¦¨à§‹à¦° à¦•à¦°à¦¬à§‡â€¦ à¦à¦Ÿà¦¾à¦‡ à¦¬à¦¾à¦¸à§à¦¤à¦¬ ðŸ™‚ âžà¦¸à§Œà¦°à¦­-à¦¬à¦Ÿ"
  ];

  const images = [
    "https://i.imgur.com/e1X4FL9.jpeg",
    "https://i.imgur.com/TG3rIiJ.jpeg",
    "https://i.imgur.com/GggjGf9.jpeg",
    "https://i.imgur.com/3MrSsoV.jpeg",
    "https://i.imgur.com/1w4Zec2.jpeg",
    "https://i.imgur.com/5BtyeEH.jpeg",
    "https://i.imgur.com/xUNknmi.jpeg",
    "https://i.imgur.com/wzXgnwq.jpeg",
    "https://i.imgur.com/aWntUvL.jpeg",
    "https://i.imgur.com/XOeAkn1.jpeg",
    "https://i.imgur.com/JuA7M0t.jpeg",
    "https://i.imgur.com/CPK9lur.jpeg",
    "https://i.imgur.com/Te7k6sV.jpeg",
    "https://i.imgur.com/vnVjD6L.jpeg"
  ];

  const caption = captions[Math.floor(Math.random() * captions.length)];
  const imageURL = images[Math.floor(Math.random() * images.length)];
  const filePath = __dirname + "/cache/5.jpg";

  const styledBody = `â•”â•â•â•ã€Ž ${caption} ã€â•â•â•â•—\n\nâšœï¸ ððŽð“ ðŽð–ðð„ð‘: ðŠðˆðð† ð’ð‡ðŽð”ð‘ðŽð• âšœï¸`;

  const callback = () => api.sendMessage(
    {
      body: styledBody,
      attachment: fs.createReadStream(filePath)
    },
    event.threadID,
    () => fs.unlinkSync(filePath)
  );

  return request(encodeURI(imageURL))
    .pipe(fs.createWriteStream(filePath))
    .on("close", callback);
};